/*!CK:4101150714!*//*1449012746,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["sR2Ui"]); }

__d('NewStoriesPillView', ['ArbiterMixin', 'Animation', 'BanzaiScuba', 'CurrentUser', 'DOMScroll', 'Ease', 'React', 'ReactDOM', 'ReactRenderer', 'Vector', 'cx', 'fbt'], function a(b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) { 'use strict'; if (c.__markCompiled) c.__markCompiled(); var t = n.PropTypes, u = 300; function v(y) { new j('feed_newstoriescard').addNormal('user_id', k.getID()).addNormal('event', y).addInteger('time', Math.round(Date.now() / 1000)).addInteger('bar_at_top', 1).post(); } var w = n.createClass({ displayName: 'NewStoriesPillComponent', propTypes: { onClick: t.func.isRequired }, componentDidMount: function () { new i(o.findDOMNode(this)).from('top', -50).to('top', 42).ease(m.makePowerOut(3)).duration(400).show().go(); }, componentWillUnmount: function () { new i(o.findDOMNode(this)).from('top', 42).to('top', -50).ease(m.sineOut()).duration(250).hide().go(); }, render: function () { return (n.createElement('div', { className: "_2c44 hidden_elem" }, n.createElement('div', { className: "_2f6b", onClick: (function (event) { return this.props.onClick(event); }).bind(this) }, n.createElement('span', { className: "_489y" }), n.createElement('span', { className: "_2f6g" }, s._("New Stories"))))); } }), x = Object.assign({ _root: null, _isAtTop: false, setAtTop: function () { this._isAtTop = true; }, renderInto: function (y) { if (this._root) return; this._root = y; p.constructAndRenderComponent(w, { onClick: (function (event) { this._onClick(); event.stopPropagation(); event.preventDefault(); }).bind(this) }, y); if (this._isAtTop) v('render'); }, unmount: function () { if (this._root) { o.unmountComponentAtNode(this._root); this._root = null; } this._isAtTop = false; }, _onClick: function () { if (this._isAtTop) v('click'); this.unmount(); var y = new q(q.getScrollPosition().x, 0, 'document'); l.scrollTo(y, u, false, false, 0, (function () { l.scrollTo(y, 0); this.inform('click'); }).bind(this)); } }, h); f.exports = x; }, null);